# 基于TinyML的实时手势识别控制器

**一个基于Arduino Nano 33 BLE Sense的嵌入式AI项目，旨在实现一个低功耗、低延迟的实时手势识别系统，可用于智能家居、无接触控制等多种物联网(AIoT)应用场景。**

---

## ✨ 项目亮点 (Features)

* **端侧智能**: 所有AI推理完全在微控制器上独立运行，无需网络连接，实现了低延迟和高隐私性。
* **高精度识别**: 最终模型能够准确区分 **6种** 状态 (上、下、左、右、静止、未知)，在严格的测试集上准确率高达 **99%** 以上。
* **高鲁棒性**: 通过引入多样性数据（如不同用户的习惯）和`unknown`未知类别，有效解决了模型过拟合问题，能抵抗真实世界中的无效动作干扰。
* **专业的开发流程**: 采用 **VS Code + PlatformIO** 进行开发，并遵循了从数据采集、云端训练、模型迭代优化到最终部署的完整机器学习工作流。
* **低功耗设计**: 实现了基于IMU中断的“运动唤醒”功能，在设备空闲时可进入深度睡眠模式，为电池供电应用场景奠定了基础。

## 🚀 技术栈 (Technology Stack)

* **硬件平台**: Arduino Nano 33 BLE Sense Rev2 (nRF52840)
* **核心传感器**: 板载IMU (BMI270 加速度计)
* **机器学习平台**: Edge Impulse Studio
* **开发环境**: Visual Studio Code + PlatformIO
* **核心编程语言**: C/C++
* **软件架构**: Arduino框架, FreeRTOS (通过Mbed OS内核)
* **版本控制**: Git / GitHub

## 🏗️ 系统架构

本项目架构分为“离线模型训练”和“设备端实时推理”两个核心部分。

### 模型训练流程

![模型训练流程图]<img width="704" height="866" alt="Image" src="https://github.com/user-attachments/assets/11549521-32c7-4d0b-a37c-1a6cfbfb3090" />`

### 设备端工作流程

![设备端工作流程图]<img width="665" height="811" alt="Image" src="https://github.com/user-attachments/assets/e4c2ba4c-b22d-4fa9-8962-8ac276f7b91f" />`

---

## 🔬 数据采集 (Data Collection)

本项目所使用的手势数据集，均由本人独立采集、清洗和标注。用于数据采集的专属固件项目已开源在另一个仓库中，欢迎访问：

➡️ **[Gesture Data Collector Project](https://github.com/ShizukuWhite/gesture-data-collector)**

## 📖 AI模型迭代

本项目的一个核心是AI模型的迭代优化过程，我经历了从V1到V5多个版本的演进，最终将模型从一个有严重缺陷的状态，优化到了一个高精度、高鲁棒性的最终形态。

* **V1.0 - 概念验证**: 成功实现了3分类模型，验证了技术路线的可行性。
* **V2.0 - 精细化挑战**: 在升级为5分类模型后，遭遇了**严重失败** (准确率仅93.1%，但`up`/`down`混淆严重)，并成功诊断出`频谱分析`方案的局限性。
* **V3.0 - 技术突破**: 通过更换为`Raw Data` + 1D-CNN方案，**准确率跃升至99%以上**，解决了核心的混淆问题。
* **V4.0 - 数据完整性**: 发现并解决了因数据集不均衡（`idle`样本过长）导致的“准确率虚高”问题，得到了更**诚实可靠**的评估结果 (97.8%)。
* **V5.0 - 追求鲁棒性**: 通过增加多样性数据（如左手、他人数据）和引入`unknown`未知类别，打造出了一个能够在真实世界中稳定工作的最终模型。

## 🛠️ 如何构建与运行

1.  克隆本仓库。
2.  使用 VS Code 和 PlatformIO 插件打开项目。
3.  连接 Arduino Nano 33 BLE Sense 开发板。
4.  点击 PlatformIO 的 "Upload" 按钮即可编译和上传。

## 📜 许可证 (License)

本项目采用 [MIT License](LICENSE) 开源许可证。
