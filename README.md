# ?? TinyML ???????????RTOS + BLE?

????? Arduino Nano 33 BLE Sense ? Edge Impulse ???????????????????????? BLE ????????????? PC ????????

## ? ????

- **??? TinyML ??**?Edge Impulse ??? 1D CNN?????? `up` / `down` / `left` / `right` / `idle`??????? 98.5%?
- **??? + RTOS ??**?`main`?`inference_module`?`led_module`?`ble_module` ??????? Mbed OS `rtos::Thread` ????LED?BLE ?????
- **????????**?????????????????? IMU ????????????????????
- **????????**?????????????LED ? BLE ????????????????????????
- **BLE ????**??? ArduinoBLE ???????????? + ???????????? PC?
- **?? LED ???**?????????????up=??down=??left=??right=??idle=??????????

## ?? ????

```
??? include/
?   ??? ble_module.h          # BLE ????
?   ??? inference_module.h    # ??????????? API?
?   ??? led_module.h          # LED ????
??? src/
?   ??? main.cpp              # ?????????????
?   ??? inference_module.cpp  # IMU ?? + Edge Impulse ??
?   ??? led_module.cpp        # ???????
?   ??? ble_module.cpp        # BLE ?????????
??? lib/                      # Bosch IMU ?? & Edge Impulse ???
??? platformio.ini            # PlatformIO ???? ArduinoBLE ???
```

## ?? ????

1. **`main.cpp` ? ????**??????/IMU/LED/BLE????? `inference_task`?`led_control_task`?`ble_task` ?????
2. **`inference_module` ? AI ??**??? IMU?????????? `run_classifier()`????? + ??? + ???????????
3. **`led_module` ? ?? UI**?????????????????? LED?idle ?????unknown ???
4. **`ble_module` ? ????**??? BLE ???????????????????????/PC ?? BLE Central ?????

## ?? ?????

1. ?? https://platformio.org/install ??? VS Code + PlatformIO IDE??
2. ?? Edge Impulse ??? `a5-deminsion_inferencing` ???? `lib/` ???
3. ???????? `platformio run` ????? `platformio run --target upload` ??? Arduino Nano 33 BLE Sense?
4. ????????115200????? `BLE Advertising started` ????

## ?? ?? BLE ??

1. ???? nRF Connect / LightBlue ? PC BLE ???? `5ClassForwarder`?????????????????string??????float??
2. ??????????/PC ????????? LED ?????
3. ???????? `inference_module` ??????? IMU ??????????? BLE ???????

## ?? ??????

- ?????????BLE ???LED ????????????????????????
- ?? `platformio device monitor` ???????????????????????????????

## ?? ????

- ?? Bosch ?????? + RTOS ??????????????????
- ?? BLE ????????? IMU ???????????
- ?? PC/?????????? PPT ?????????????
